jQuery(document).ready(function(e){e.fn.GenerateMobileMenu=function(t){var a=e.extend({menu:".main-navigation"},t),n=e(this);e(a.menu).length&&(n.on("click",function(t){t.preventDefault(),(n=e(this)).closest(a.menu).toggleClass("toggled"),n.closest(a.menu).attr("aria-expanded","true"===n.closest(a.menu).attr("aria-expanded")?"false":"true"),n.toggleClass("toggled"),n.attr("aria-expanded","false"===n.attr("aria-expanded")?"true":"false"),t.stopPropagation()}),e("nav").on("click",".dropdown-menu-toggle",function(e){e.preventDefault(),e.stopPropagation()}),e("nav").on("click",".main-nav a",function(t){if(e(".menu-toggle").is(":visible")){var n=e(this),i=n.attr("href");"#"!==i&&""!==i&&(n.closest(a.menu).removeClass("toggled"),n.closest(a.menu).attr("aria-expanded","false"),n.removeClass("toggled"),n.attr("aria-expanded","false"))}}))}}),jQuery(document).ready(function(e){e(".main-navigation .menu-toggle").GenerateMobileMenu(),e("nav").on("click",".dropdown-menu-toggle",function(t){t.preventDefault();var a=e(this);e(".menu-toggle").is(":visible")&&(a.closest("li").toggleClass("sfHover"),a.parent().next(".children, .sub-menu").toggleClass("toggled-on"),a.attr("aria-expanded","false"===e(this).attr("aria-expanded")?"true":"false")),t.stopPropagation()}),e("nav").on("click",".main-nav .menu-item-has-children>a",function(t){var a=e(this),n=e(".menu-toggle"),i=a.attr("href");"#"!=i&&""!=i||n.is(":visible")&&(t.preventDefault(),a.closest("li").toggleClass("sfHover"),a.next(".children, .sub-menu").toggleClass("toggled-on"),a.attr("aria-expanded","false"===e(this).attr("aria-expanded")?"true":"false"))})}),jQuery(document).ready(function(e){e.fn.generateDropdownClick=function(t){var a=e.extend({item:"menu-item"},t);e(this).on("click",function(t){t.preventDefault();var n=e(this);n.closest("nav");return n.closest("li").siblings().find(".toggled-on").removeClass("toggled-on"),n.closest("li").siblings(".sfHover").removeClass("sfHover"),n.closest("li").siblings().find(".sfHover").removeClass("sfHover"),n.closest("li").toggleClass("sfHover"),"menu-item"==a.item&&n.siblings(".children,.sub-menu").toggleClass("toggled-on"),!1}),e.fn.generateDropdownClick.close=function(){e("ul.toggled-on,.main-navigation.toggled").is(":visible")&&(e(".main-navigation").removeClass("toggled"),e(".main-nav .menu-item-has-children>a").parent().removeClass("sfHover"),e(".main-nav .menu-item-has-children>a").siblings(".children,.sub-menu").removeClass("toggled-on"))}}}),jQuery(document).ready(function(e){e(".main-nav .menu-item-has-children>a").generateDropdownClick({item:"menu-item"}),e(document).click(function(t){e("ul.toggled-on,.main-navigation.toggled").is(":visible")&&(e(t.target).closest("ul.toggled-on,.main-navigation.toggled").length||e("ul.toggled-on,.main-navigation.toggled").generateDropdownClick.close())}),e(".search-item a").on("click",function(){e("ul.toggled-on,.main-navigation.toggled").is(":visible")&&e("ul.toggled-on,.main-navigation.toggled").generateDropdownClick.close()}),e.fn.GenerateMenuSearch=function(){return e(this).on("click",function(t){t.preventDefault();var a=e(this).closest("ul").prevAll("form");return a.is(":visible")?(e(this).parent().removeClass("active"),e(this).parent().removeClass("sfHover"),a.removeClass("nav-search-active"),e(this).children("i").replaceWith('<i class="fa fa-fw">&#xf002;</i>')):(e(this).parent().addClass("active"),e(this).parent().removeClass("sfHover"),a.addClass("nav-search-active"),a.children("input").focus(),e(this).children("i").replaceWith('<i class="fa fa-fw">&#xf00d;</i>')),!1}),this},e(".search-item a").GenerateMenuSearch(),e(document).on("click",function(t){e(".navigation-search").is(":visible")&&(e(t.target).closest(".navigation-search").length||(e(".search-item").removeClass("active"),e(".navigation-search").removeClass("nav-search-active"),e(".search-item i").replaceWith('<i class="fa fa-fw">&#xf002;</i>')))})}),jQuery(document).ready(function(e){var t=function(){window.innerWidth>767?e(".main-navigation").addClass("navtop"):e(".main-navigation").removeClass("navtop")};e(window).resize(function(){t()}),t();var a=window.pageYOffset;e(window).scroll(function(){var t=window.pageYOffset,n=document.querySelector(".main-navigation.toggled,.navtop .toggled-on");a>t||n?e(".main-navigation").css("top","0"):e(".main-navigation").css("top","-60px"),a=t})}),jQuery(document).ready(function(e){e(".theme-item .btn").on("click",function(t){t.preventDefault();const a="dark"===e("html").attr("data-theme")?"light":"dark";e(this).attr("aria-pressed",("dark"==a).toString()),e("html").attr("data-theme",a),localStorage.setItem("themeChoice",a),t.stopPropagation()});var t=window.matchMedia("(prefers-color-scheme:dark)").matches;"dark"===localStorage.getItem("themeChoice")?t=!0:"light"===localStorage.getItem("themeChoice")&&(t=!1),t?(e("html").attr("data-theme","dark"),e(".theme-item .btn").attr("aria-pressed","true")):(e("html").attr("data-theme","light"),e(".theme-item .btn").attr("aria-pressed","false"))});class RocketLazyLoadScripts{constructor(e){this.triggerEvents=e,this.eventOptions={passive:!0},this.userEventListener=this.triggerListener.bind(this),this.delayedScripts={normal:[],async:[],defer:[]},this.allJQueries=[]}_addUserInteractionListener(e){this.triggerEvents.forEach(t=>window.addEventListener(t,e.userEventListener,e.eventOptions))}_removeUserInteractionListener(e){this.triggerEvents.forEach(t=>window.removeEventListener(t,e.userEventListener,e.eventOptions))}triggerListener(){this._removeUserInteractionListener(this),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._loadEverythingNow.bind(this)):this._loadEverythingNow()}async _loadEverythingNow(){this._delayEventListeners(),this._delayJQueryReady(this),this._handleDocumentWrite(),this._registerAllDelayedScripts(),this._preloadAllScripts(),await this._loadScriptsFromList(this.delayedScripts.normal),await this._loadScriptsFromList(this.delayedScripts.defer),await this._loadScriptsFromList(this.delayedScripts.async),await this._triggerDOMContentLoaded(),await this._triggerWindowLoad(),window.dispatchEvent(new Event("rocket-allScriptsLoaded"))}_registerAllDelayedScripts(){document.querySelectorAll("script[type=rocketlazyscript]").forEach(e=>{e.hasAttribute("src")?e.hasAttribute("async")&&!1!==e.async?this.delayedScripts.async.push(e):e.hasAttribute("defer")&&!1!==e.defer||"module"===e.getAttribute("data-rocket-type")?this.delayedScripts.defer.push(e):this.delayedScripts.normal.push(e):this.delayedScripts.normal.push(e)})}async _transformScript(e){return await this._requestAnimFrame(),new Promise(t=>{const n=document.createElement("script");let i;[...e.attributes].forEach(e=>{let t=e.nodeName;"type"!==t&&("data-rocket-type"===t&&(t="type",i=e.nodeValue),n.setAttribute(t,e.nodeValue))}),e.hasAttribute("src")&&this._isValidScriptType(i)?(n.addEventListener("load",t),n.addEventListener("error",t)):(n.text=e.text,t()),e.parentNode.replaceChild(n,e)})}_isValidScriptType(e){return!e||""===e||"string"==typeof e&&["text/javascript","text/x-javascript","application/javascript","application/x-javascript","module"].includes(e.toLowerCase())}async _loadScriptsFromList(e){const t=e.shift();return t?(await this._transformScript(t),this._loadScriptsFromList(e)):Promise.resolve()}_preloadAllScripts(){var e=document.createDocumentFragment();[...this.delayedScripts.normal,...this.delayedScripts.defer,...this.delayedScripts.async].forEach(t=>{const n=t.getAttribute("src");if(n){const t=document.createElement("link");t.href=n,t.rel="preload",t.as="script",e.appendChild(t)}}),document.head.appendChild(e)}_delayEventListeners(){let e={};function t(t,n){!function(t){function n(n){return e[t].eventsToRewrite.indexOf(n)>=0?"rocket-"+n:n}e[t]||(e[t]={originalFunctions:{add:t.addEventListener,remove:t.removeEventListener},eventsToRewrite:[]},t.addEventListener=function(){arguments[0]=n(arguments[0]),e[t].originalFunctions.add.apply(t,arguments)},t.removeEventListener=function(){arguments[0]=n(arguments[0]),e[t].originalFunctions.remove.apply(t,arguments)})}(t),e[t].eventsToRewrite.push(n)}function n(e,t){const n=e[t];Object.defineProperty(e,t,{get:n||function(){},set:n=>{e["rocket"+t]=n}})}t(document,"DOMContentLoaded"),t(window,"DOMContentLoaded"),t(window,"load"),t(window,"pageshow"),t(document,"readystatechange"),n(document,"onreadystatechange"),n(window,"onload"),n(window,"onpageshow")}_delayJQueryReady(e){let t=window.jQuery;Object.defineProperty(window,"jQuery",{get:()=>t,set(n){if(n&&n.fn&&!e.allJQueries.includes(n)){n.fn.ready=n.fn.init.prototype.ready=function(t){e.domReadyFired?t.bind(document)(n):document.addEventListener("rocket-DOMContentLoaded",()=>t.bind(document)(n))};const t=n.fn.on;n.fn.on=n.fn.init.prototype.on=function(){if(this[0]===window){function e(e){return e.split(" ").map(e=>"load"===e||0===e.indexOf("load.")?"rocket-jquery-load":e).join(" ")}"string"==typeof arguments[0]||arguments[0]instanceof String?arguments[0]=e(arguments[0]):"object"==typeof arguments[0]&&Object.keys(arguments[0]).forEach(t=>{delete Object.assign(arguments[0],{[e(t)]:arguments[0][t]})[t]})}return t.apply(this,arguments),this},e.allJQueries.push(n)}t=n}})}async _triggerDOMContentLoaded(){this.domReadyFired=!0,await this._requestAnimFrame(),document.dispatchEvent(new Event("rocket-DOMContentLoaded")),await this._requestAnimFrame(),window.dispatchEvent(new Event("rocket-DOMContentLoaded")),await this._requestAnimFrame(),document.dispatchEvent(new Event("rocket-readystatechange")),await this._requestAnimFrame(),document.rocketonreadystatechange&&document.rocketonreadystatechange()}async _triggerWindowLoad(){await this._requestAnimFrame(),window.dispatchEvent(new Event("rocket-load")),await this._requestAnimFrame(),window.rocketonload&&window.rocketonload(),await this._requestAnimFrame(),this.allJQueries.forEach(e=>e(window).trigger("rocket-jquery-load")),window.dispatchEvent(new Event("rocket-pageshow")),await this._requestAnimFrame(),window.rocketonpageshow&&window.rocketonpageshow()}_handleDocumentWrite(){const e=new Map;document.write=document.writeln=function(t){const n=document.currentScript;n||console.error("Browser unable to document.write this: "+t);const i=document.createRange(),r=n.parentElement;let a=e.get(n);void 0===a&&(a=n.nextSibling,e.set(n,a));const o=document.createDocumentFragment();i.setStart(o,0),o.appendChild(i.createContextualFragment(t)),r.insertBefore(o,a)}}async _requestAnimFrame(){return new Promise(e=>requestAnimationFrame(e))}static run(){const e=new RocketLazyLoadScripts(["keydown","mousemove","mouseover","touchcancel","touchforcechange","touchmove","touchstart","touchend","wheel"]);e._addUserInteractionListener(e)}}RocketLazyLoadScripts.run();
